# 10장: 예외

### 아이템 69. 예외는 진짜 예외 상황에만 사용하라

- 예외는 일상 흐름 제어용이 아닌 진짜 예외 상황에서만 사용해야 한다.
    - 주문 시 상품 가격과 클라이언트의 결제 금액이 잘못 되었다거나
    - 사용자가 제시한 토큰의 인증 정보가 잘못 되었다거나

### 아이템 70. 복구할 수 있는 상황에는 검사 예외를, 프로그래밍 오류에는 런타임 예외를 사용하라

- 만약 호출하는 쪽에서 복구할 수 있다면 검사 예외(Checked Exception)를 사용하고, 나머지는 모두 런타임 예외를 사용하자.
- 만약 호출자의 복구 가능 여부를 확신할 수 없다면 런타임 예외를 사용하라

### 아이템 71. 필요 없는 검사 예외 사용은 피하라

- 이야기한 것처럼 복구 가능한 예외에서 검사 예외를 사용하는 것은 소프트웨어 품질을 높여준다. 하지만 그렇지 않은 상황에선 예외를 전파하고 복구하는데에 필요한 복잡도만 늘어난다.

### 아이템 72. 표준 예외를 사용하라

- 정의하고자 하는 상황을 나타내는 표준 예외가 이미 있다면 그걸 사용하라. 보다 명확하고 익숙하다.
- Exception, RuntimeException, Throwable, Error 는 예외다.

### 아이템 73. 추상화 수준에 맞는 예외를 던져라

- 저수준 계층에서 발생하는 예외를 해당 계층에서 처리할 수 없는 경우가 있다. 이 경우 그대로 예외를 전파하지 말고 상위 계층의 관점에 맞는 예외로 변환하여 던져라. 이를 예외 번역이라고 한다.
    - 발생한 저수준 예외가 상위 수준의 디버깅에 도움이 된다면 예외 연새를 사용해 근본 원인을 예외 내에 실어보낼수도 있다.

### 아이템 74. 메서드가 던지는 모든 예외를 문서화하라

- 메서드가 던지는 모든 예외를 문서화하자
    - 검사 예외는 @throws 태그를 통해 진행하면 된다.

### 아이템 75. 예외의 상세 메시지에 실패 관련 정보를 담으라

- 예외의 사후 분석을 위해 실패 순간의 스냅샷에서 꺼내올 수 있는 최대한의 정보를 정확하게 예외 상세 메시지에 담아라
    - 저자는 예외와 관련된 모든 매개변수, 필드 값을 담아야 한다고 말한다.

### 아이템 76. 가능한 한 실패 원자적으로 만들라

- 호출된 메서드에서 예외가 발생하더라도 호출한 객체는 호출 이전 상태를 유지해야 한다.
    - 내부 상태값을 변경시키는 동작과 유효성 검사 동작이 공존한다면 검사 동작을 먼저 실시하라.
    - 이를 Early Return 이라고도 한다.

### 아이템 77. 예외를 무시하지 말라

- 말 그대로다.